# Asterix the Gaul - solution

Keep in mind that all the calculations regarding distance and time must be done using `long` variables.

Using a greedy algorithm would not work. For this reason, it is necessary to use Split & List. Considering that the subsets' elements must not overlap, it's not possible to divide the subset calculation just by dividing by two the range of indexes of the subset. It is necessary to divide the calculations by considering two non-overlapping subsets of the bits used for the index of the subset of elements currently considered. In the first part, `n1 = n/2` bits will be considered, with the subset indexes going from `0` to `1 << n1` and the element indexes going from `0` to `n1`. In the second part, the remaining `n2 = n - n1` bits will be considered, with the subset indexes going from `0` to `1 << n2` and the element indexes going from `0` to `n2`. Considering that these are the `n2` most significant bits, it would be necessary to shift both the subset index and the element index to the right by `n1` position, but it's possible to do the comparison as usual because the shifts would "cancel out". However, it's still necessary to consider the element with an offset of `n1`.

Create a function whose goal is to determine if it's possible to reach the Panoramix in time. It contains the Split & List section, which creates two vectors. In order to consider the potion with few complications, each time this function is called, it is given the additional distance traveled for each step. This means that, when adding up the distances of the movements considered, for each movement, it's necessary to also add up the potion distance (it is therefore added for each step). The two resulting lists need to be ordered by increasing time and decreasing distance.

Given the order described above, while traversing these lists, it's necessary to update the highest distance traveled so far. If a new element considered travels less distance, it is ignored. Otherwise, it is added to the clean list. It makes no sense to travel less distance in more time. Using the two sum technique, while traversing a list from the beginning and one list from the end, check the different combinations to see if there is a valid one.

Using a binary search, call the above-mentioned function with a different number of gulps. It is necessary to add the gulp with a distance of 0.